# 项目介绍
- 该项目是空速计测试架的单片机代码。该代码基于 [CRTK2](http://git.cuav.net/microcontrollers/rtk1/crtk2/automatic_test_system.git) 测试架代码实现的。
# 使用的芯片
- MCU： STM32F429ZGT6
# 功能
- 测试项目
```
1.SHT3X传感器测量到的温度：39-50温度范围都正常。空速计默认设置的温度是40摄氏度。基本维持在40-43之间。测试通过时数值会变为绿色。
2.气压计温度：39-44度之间表示正常；测试通过时数值会变为绿色。
3.中档时空速：测试架设置的是 4-8m/s表示正常，范围设置这么大是为了适应不同传感器安装时的微小误差，风扇吹出来的风的紊乱程度等。测试通过时> <会变为绿色。实际飞行不会跳变这么大。
4.高档时空速：测试架设置的是 8-12m/s表示正常。测试通过时> <会变为绿色。
```
- 测试架控制电机的转速，实现二挡变速，模拟空中飞行情况下空速计测量到的空速值。
- 使用 UAVCAN 协议读取空速计传过来的空速数值。
- 测试架使用PWM控制电机的转速。
- LCD 显示 SHT31 测量到的温湿度；显示气压计的气压，温度和空速值；触摸可以实现电机转速的控制。
# 注意
- 还有一些要注意的东西在 Docs/空速计测试架使用文档.docx 中有图文并茂的描述（硬件改动，代码相对于CRTK2测试架代码的改动等）。
- 由于 CRTK2 代码中有些配置不是使用 IOC 文件生成的，而是手动添加的一些配置，因此，不要使用 IOC 文件来进行某些IO的配置，不然会报错。
- 如果提示更新固件包，也不要更新，不然会导致一些旧的函数API在新的固件包中没法使用。目前使用的固件版本： FW_F4 V1.25.2。
- [Bootloader](http://git.cuav.net/microcontrollers/test-stand/test_system_bootloader.git) 
# 代码使用
此代码是工程代码，使用 STM32CUBE IDE 打开该工程即可。
# 编译相关
无
# 编译环境
- Windows 10
- STM32CUBE IDE
# 编译命令
无
# 编译参数说明
无